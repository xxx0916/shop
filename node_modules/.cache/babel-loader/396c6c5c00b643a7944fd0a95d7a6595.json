{"ast":null,"code":"export default {\n  data() {\n    return {\n      keyword: ''\n    };\n  },\n\n  methods: {\n    // 搜索按钮的回调函数：向search路由进行跳转\n    goSearch() {\n      // 路由传递参数\n      // 第一种：字符串形式\n      // this.$router.push(\"/search/\"+this.keyword+\"?k=\"+this.keyword.toUpperCase())\n      // 第二周：模板字符串\n      // this.$router.push(`/search/${this.keyword}?k=${this.keyword.toUpperCase()}`)\n      // 第三种：对象写法\n      // 代表的是如果有query参数也带过去\n      if (this.$route.query) {\n        let location = {\n          name: 'search',\n          params: {\n            keyword: this.keyword || undefined\n          }\n        };\n        location.query = this.$route.query;\n        this.$router.push(location);\n      }\n    },\n\n    // 退出登录\n    async logout() {\n      // 1.发请求，通知服务器退出登录【清除一些数据：token】\n      // 2.清除项目当中的数据（userInfo,token)\n      try {\n        // 退出成功\n        await this.$store.dispatch(\"userLogout\"); //  跳转到首页\n\n        this.$router.push('/home');\n      } catch (error) {}\n    }\n\n  },\n\n  mounted() {\n    // 通过全局事件总线清除关键字\n    this.$bus.$on('clear', () => {\n      this.keyword = '';\n    });\n  },\n\n  computed: {\n    // 用户名信息\n    userName() {\n      return this.$store.state.user.userInfo.name;\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAmDA;EACAA;IACA;MACAC;IADA;EAGA,CALA;;EAMAC;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;UAAAC;UAAAC;YAAAJ;UAAA;QAAA;QACAK;QACA;MACA;IACA,CAfA;;IAgBA;IACA;MACA;MACA;MACA;QACA;QACA,yCAFA,CAGA;;QACA;MACA,CALA,CAKA,eAEA;IACA;;EA5BA,CANA;;EAoCAC;IACA;IACA;MACA;IACA,CAFA;EAGA,CAzCA;;EA0CAC;IACA;IACAC;MACA;IACA;;EAJA;AA1CA","names":["data","keyword","methods","goSearch","name","params","location","mounted","computed","userName"],"sourceRoot":"src/components/Header","sources":["index.vue"],"sourcesContent":["<template>\r\n    <!-- 头部 -->\r\n    <header class=\"header\">\r\n        <!-- 头部的第一行 -->\r\n        <div class=\"top\">\r\n            <div class=\"container\">\r\n                <div class=\"loginList\">\r\n                    <p>尚品汇欢迎您！</p>\r\n                    <!-- 没有用户名：未登录 -->\r\n                    <p v-if=\"!userName\">\r\n                        <span>请</span>\r\n                        <!-- 声明式导航：务必要有to属性 -->\r\n                        <router-link to=\"/login\">登录</router-link>\r\n                        <router-link class=\"register\" to=\"/register\">免费注册</router-link>\r\n                    </p>\r\n                    <!-- 登录了 -->\r\n                    <p v-else>\r\n                        <a>{{ userName }}</a>\r\n                        <a class=\"register\" @click=\"logout\">退出登录</a>\r\n                    </p>\r\n                </div>\r\n                <div class=\"typeList\">\r\n                    <a href=\"###\">我的订单</a>\r\n                    <a href=\"###\">我的购物车</a>\r\n                    <a href=\"###\">我的尚品汇</a>\r\n                    <a href=\"###\">尚品汇会员</a>\r\n                    <a href=\"###\">企业采购</a>\r\n                    <a href=\"###\">关注尚品汇</a>\r\n                    <a href=\"###\">合作招商</a>\r\n                    <a href=\"###\">商家后台</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!--头部第二行 搜索区域-->\r\n        <div class=\"bottom\">\r\n            <h1 class=\"logoArea\">\r\n                <router-link class=\"logo\" to=\"/home\">\r\n                    <img src=\"./images/logo.png\" alt=\"\">\r\n                </router-link>\r\n            </h1>\r\n            <div class=\"searchArea\">\r\n                <form action=\"###\" class=\"searchForm\">\r\n                    <input type=\"text\" id=\"autocomplete\" class=\"input-error input-xxlarge\" v-model=\"keyword\" />\r\n                    <button class=\"sui-btn btn-xlarge btn-danger\" type=\"button\" @click=\"goSearch\">搜索</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </header>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            keyword: ''\r\n        }\r\n    },\r\n    methods: {\r\n        // 搜索按钮的回调函数：向search路由进行跳转\r\n        goSearch() {\r\n            // 路由传递参数\r\n            // 第一种：字符串形式\r\n            // this.$router.push(\"/search/\"+this.keyword+\"?k=\"+this.keyword.toUpperCase())\r\n            // 第二周：模板字符串\r\n            // this.$router.push(`/search/${this.keyword}?k=${this.keyword.toUpperCase()}`)\r\n            // 第三种：对象写法\r\n            // 代表的是如果有query参数也带过去\r\n            if (this.$route.query) {\r\n                let location = { name: 'search', params: { keyword: this.keyword || undefined } };\r\n                location.query = this.$route.query;\r\n                this.$router.push(location);\r\n            }\r\n        },\r\n        // 退出登录\r\n        async logout() {\r\n            // 1.发请求，通知服务器退出登录【清除一些数据：token】\r\n            // 2.清除项目当中的数据（userInfo,token)\r\n            try {\r\n                // 退出成功\r\n                await this.$store.dispatch(\"userLogout\")\r\n                //  跳转到首页\r\n                this.$router.push('/home')\r\n            } catch (error) {\r\n\r\n            }\r\n        }\r\n    },\r\n    mounted() {\r\n        // 通过全局事件总线清除关键字\r\n        this.$bus.$on('clear', () => {\r\n            this.keyword = '';\r\n        })\r\n    },\r\n    computed: {\r\n        // 用户名信息\r\n        userName() {\r\n            return this.$store.state.user.userInfo.name\r\n        },\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.header {\r\n    &>.top {\r\n        background-color: #eaeaea;\r\n        height: 30px;\r\n        line-height: 30px;\r\n\r\n        .container {\r\n            width: 1200px;\r\n            margin: 0 auto;\r\n            overflow: hidden;\r\n\r\n            .loginList {\r\n                float: left;\r\n\r\n                p {\r\n                    float: left;\r\n                    margin-right: 10px;\r\n\r\n                    .register {\r\n                        border-left: 1px solid #b3aeae;\r\n                        padding: 0 5px;\r\n                        margin-left: 5px;\r\n                    }\r\n                }\r\n            }\r\n\r\n            .typeList {\r\n                float: right;\r\n\r\n                a {\r\n                    padding: 0 10px;\r\n\r\n                    &+a {\r\n                        border-left: 1px solid #b3aeae;\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    &>.bottom {\r\n        width: 1200px;\r\n        margin: 0 auto;\r\n        overflow: hidden;\r\n\r\n        .logoArea {\r\n            float: left;\r\n\r\n            .logo {\r\n                img {\r\n                    width: 175px;\r\n                    margin: 25px 45px;\r\n                }\r\n            }\r\n        }\r\n\r\n        .searchArea {\r\n            float: right;\r\n            margin-top: 35px;\r\n\r\n            .searchForm {\r\n                overflow: hidden;\r\n\r\n                input {\r\n                    box-sizing: border-box;\r\n                    width: 490px;\r\n                    height: 32px;\r\n                    padding: 0px 4px;\r\n                    border: 2px solid #ea4a36;\r\n                    float: left;\r\n\r\n                    &:focus {\r\n                        outline: none;\r\n                    }\r\n                }\r\n\r\n                button {\r\n                    height: 32px;\r\n                    width: 68px;\r\n                    background-color: #ea4a36;\r\n                    border: none;\r\n                    color: #fff;\r\n                    float: left;\r\n                    cursor: pointer;\r\n\r\n                    &:focus {\r\n                        outline: none;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}