{"ast":null,"code":"// 配置路由\nimport Vue from 'vue';\nimport VueRouter from 'vue-router'; // 使用插件\n\nVue.use(VueRouter); // 引入路由组件\n\nimport Home from '@/pages/Home';\nimport Login from '@/pages/Login';\nimport Register from '@/pages/Register';\nimport Search from '@/pages/Search';\nimport Detail from '@/pages/Detail'; // 先把VueRouter原型对象的push,先保存一份\n\nlet originPush = VueRouter.prototype.push;\nlet originReplace = VueRouter.prototype.replace; // 重写push|replace\n// 第一个参数：告诉原来的push,你往哪里跳转（传递哪些参数）\n// 第二个参数：成功回调\n// 第三参数：失败的回调\n// call||apply区别\n// 相同点，都可以调用函数一次，都可以篡改函数的上下文一次（this的指向）\n// 不同点：call与apply传递参数：call传递参数用逗号隔开，apply方法执行，传递数组\n\nVueRouter.prototype.push = function (location, resolve, reject) {\n  if (resolve && reject) {\n    originPush.call(this, location, resolve, reject);\n  } else {\n    originPush.call(this, location, () => {}, () => {});\n  }\n};\n\nVueRouter.prototype.push = function (location, resolve, reject) {\n  if (resolve && reject) {\n    originReplace.call(this, location, resolve, reject);\n  } else {\n    originReplace.call(this, location, () => {}, () => {});\n  }\n}; // 配置路由\n\n\nexport default new VueRouter({\n  // 配置路由\n  routes: [// 路由重定向，在项目跑起来的时候，默认访问首页\n  {\n    path: '*',\n    redirect: '/home'\n  }, {\n    path: \"/home\",\n    component: Home,\n    meta: {\n      show: true\n    }\n  }, {\n    path: \"/search/:keyword?\",\n    component: Search,\n    meta: {\n      show: true\n    },\n    name: 'search',\n    // 路由组件能不能传递props数据?\n    // 布尔值写法：params\n    // props:true\n    // 对象写法:额外给路由组件传递一些props\n    // props:{a:1,b:2}\n    // 函数写法：可以params参数，query参数，通过props传递给路由组件\n    props: $route => {\n      return {\n        keyword: $route.params.keyword,\n        k: $route.query.k\n      };\n    }\n  }, {\n    path: \"/login\",\n    component: Login,\n    meta: {\n      show: false\n    }\n  }, {\n    path: \"/register\",\n    component: Register,\n    meta: {\n      show: false\n    }\n  }, {\n    path: \"/detail\",\n    component: Detail,\n    meta: {\n      show: true\n    }\n  }]\n});","map":{"version":3,"names":["Vue","VueRouter","use","Home","Login","Register","Search","Detail","originPush","prototype","push","originReplace","replace","location","resolve","reject","call","routes","path","redirect","component","meta","show","name","props","$route","keyword","params","k","query"],"sources":["D:/aUsers26043Desktop/vue-project2/shop/src/router/index.js"],"sourcesContent":["// 配置路由\r\nimport Vue from 'vue';\r\nimport VueRouter from 'vue-router';\r\n\r\n// 使用插件\r\nVue.use(VueRouter)\r\n// 引入路由组件\r\nimport Home from '@/pages/Home'\r\nimport Login from '@/pages/Login'\r\nimport Register from '@/pages/Register'\r\nimport Search from '@/pages/Search'\r\nimport Detail from '@/pages/Detail'\r\n// 先把VueRouter原型对象的push,先保存一份\r\nlet originPush  = VueRouter.prototype.push;\r\nlet originReplace = VueRouter.prototype.replace;\r\n\r\n// 重写push|replace\r\n// 第一个参数：告诉原来的push,你往哪里跳转（传递哪些参数）\r\n// 第二个参数：成功回调\r\n// 第三参数：失败的回调\r\n// call||apply区别\r\n// 相同点，都可以调用函数一次，都可以篡改函数的上下文一次（this的指向）\r\n// 不同点：call与apply传递参数：call传递参数用逗号隔开，apply方法执行，传递数组\r\nVueRouter.prototype.push=function(location,resolve,reject){\r\n    if(resolve&&reject){\r\n        originPush.call(this,location,resolve,reject);\r\n    }else{\r\n        originPush.call(this,location,()=>{},()=>{})\r\n    }\r\n}\r\nVueRouter.prototype.push=function(location,resolve,reject){\r\n    if(resolve&&reject){\r\n        originReplace.call(this,location,resolve,reject);\r\n    }else{\r\n        originReplace.call(this,location,()=>{},()=>{})\r\n    }\r\n}\r\n\r\n// 配置路由\r\nexport default new VueRouter({\r\n    // 配置路由\r\n    routes: [\r\n        // 路由重定向，在项目跑起来的时候，默认访问首页\r\n        {\r\n            path:'*',\r\n            redirect:'/home'\r\n        },\r\n        {\r\n            path:\"/home\",\r\n            component:Home,\r\n            meta:{show:true}\r\n        },\r\n        {\r\n            path:\"/search/:keyword?\",\r\n            component:Search,\r\n            meta:{show:true},\r\n            name:'search',\r\n            // 路由组件能不能传递props数据?\r\n            // 布尔值写法：params\r\n            // props:true\r\n            // 对象写法:额外给路由组件传递一些props\r\n            // props:{a:1,b:2}\r\n            // 函数写法：可以params参数，query参数，通过props传递给路由组件\r\n            props:($route)=>{\r\n                return {keyword:$route.params.keyword,k:$route.query.k}\r\n            }\r\n        },\r\n        {\r\n            path:\"/login\",\r\n            component:Login,\r\n            meta:{show:false}\r\n        },\r\n        {\r\n            path:\"/register\",\r\n            component:Register,\r\n            meta:{show:false}\r\n        },\r\n        {\r\n            path:\"/detail\",\r\n            component:Detail,\r\n            meta:{show:true}\r\n        },\r\n    ]\r\n})"],"mappings":"AAAA;AACA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,SAAP,MAAsB,YAAtB,C,CAEA;;AACAD,GAAG,CAACE,GAAJ,CAAQD,SAAR,E,CACA;;AACA,OAAOE,IAAP,MAAiB,cAAjB;AACA,OAAOC,KAAP,MAAkB,eAAlB;AACA,OAAOC,QAAP,MAAqB,kBAArB;AACA,OAAOC,MAAP,MAAmB,gBAAnB;AACA,OAAOC,MAAP,MAAmB,gBAAnB,C,CACA;;AACA,IAAIC,UAAU,GAAIP,SAAS,CAACQ,SAAV,CAAoBC,IAAtC;AACA,IAAIC,aAAa,GAAGV,SAAS,CAACQ,SAAV,CAAoBG,OAAxC,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AACAX,SAAS,CAACQ,SAAV,CAAoBC,IAApB,GAAyB,UAASG,QAAT,EAAkBC,OAAlB,EAA0BC,MAA1B,EAAiC;EACtD,IAAGD,OAAO,IAAEC,MAAZ,EAAmB;IACfP,UAAU,CAACQ,IAAX,CAAgB,IAAhB,EAAqBH,QAArB,EAA8BC,OAA9B,EAAsCC,MAAtC;EACH,CAFD,MAEK;IACDP,UAAU,CAACQ,IAAX,CAAgB,IAAhB,EAAqBH,QAArB,EAA8B,MAAI,CAAE,CAApC,EAAqC,MAAI,CAAE,CAA3C;EACH;AACJ,CAND;;AAOAZ,SAAS,CAACQ,SAAV,CAAoBC,IAApB,GAAyB,UAASG,QAAT,EAAkBC,OAAlB,EAA0BC,MAA1B,EAAiC;EACtD,IAAGD,OAAO,IAAEC,MAAZ,EAAmB;IACfJ,aAAa,CAACK,IAAd,CAAmB,IAAnB,EAAwBH,QAAxB,EAAiCC,OAAjC,EAAyCC,MAAzC;EACH,CAFD,MAEK;IACDJ,aAAa,CAACK,IAAd,CAAmB,IAAnB,EAAwBH,QAAxB,EAAiC,MAAI,CAAE,CAAvC,EAAwC,MAAI,CAAE,CAA9C;EACH;AACJ,CAND,C,CAQA;;;AACA,eAAe,IAAIZ,SAAJ,CAAc;EACzB;EACAgB,MAAM,EAAE,CACJ;EACA;IACIC,IAAI,EAAC,GADT;IAEIC,QAAQ,EAAC;EAFb,CAFI,EAMJ;IACID,IAAI,EAAC,OADT;IAEIE,SAAS,EAACjB,IAFd;IAGIkB,IAAI,EAAC;MAACC,IAAI,EAAC;IAAN;EAHT,CANI,EAWJ;IACIJ,IAAI,EAAC,mBADT;IAEIE,SAAS,EAACd,MAFd;IAGIe,IAAI,EAAC;MAACC,IAAI,EAAC;IAAN,CAHT;IAIIC,IAAI,EAAC,QAJT;IAKI;IACA;IACA;IACA;IACA;IACA;IACAC,KAAK,EAAEC,MAAD,IAAU;MACZ,OAAO;QAACC,OAAO,EAACD,MAAM,CAACE,MAAP,CAAcD,OAAvB;QAA+BE,CAAC,EAACH,MAAM,CAACI,KAAP,CAAaD;MAA9C,CAAP;IACH;EAbL,CAXI,EA0BJ;IACIV,IAAI,EAAC,QADT;IAEIE,SAAS,EAAChB,KAFd;IAGIiB,IAAI,EAAC;MAACC,IAAI,EAAC;IAAN;EAHT,CA1BI,EA+BJ;IACIJ,IAAI,EAAC,WADT;IAEIE,SAAS,EAACf,QAFd;IAGIgB,IAAI,EAAC;MAACC,IAAI,EAAC;IAAN;EAHT,CA/BI,EAoCJ;IACIJ,IAAI,EAAC,SADT;IAEIE,SAAS,EAACb,MAFd;IAGIc,IAAI,EAAC;MAACC,IAAI,EAAC;IAAN;EAHT,CApCI;AAFiB,CAAd,CAAf"},"metadata":{},"sourceType":"module"}