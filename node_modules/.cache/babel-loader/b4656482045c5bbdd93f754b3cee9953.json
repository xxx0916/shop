{"ast":null,"code":"export default {\n  name: \"Pageination\",\n  props: ['pageNo', 'pageSize', 'total', 'continues'],\n  computed: {\n    // 总页数\n    totalPage() {\n      // 向上取整\n      return Math.ceil(this.total / this.pageSize);\n    },\n\n    // 计算出连续的页码的起始数字与结束数字\n    starNumAndEndNum() {\n      const {\n        continues,\n        pageNo,\n        totalPage\n      } = this; // 先定义两个变量存储起始数字与结束数字\n\n      let start = 0,\n          end = 0; // 连续页码数字5【就是至少5页】，如果出现不正常的现象【就是不够五页】\n      // 不正常现象【总页数没有连续页码多】\n\n      if (continues > totalPage) {\n        start = 1;\n        end = totalPage;\n      } else {\n        // 正常现象【连续页码5，但是你的总页数一定是大于5的】\n        // 起始数字\n        start = pageNo - parseInt(continues / 2); // 结束数字\n\n        end = pageNo + parseInt(continues / 2); // 把出现不正常的现象【start数字出现0|负数】纠正\n\n        if (start < 1) {\n          start = 1;\n          end = continues;\n        } // 把出现不正常的现象【end大于总页码】纠正\n\n\n        if (end > totalPage) {\n          end = totalPage;\n          start = totalPage - continues + 1;\n        }\n      }\n\n      return {\n        start,\n        end\n      };\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAkBA;EACAA,mBADA;EAEAC,mDAFA;EAGAC;IACA;IACAC;MACA;MACA;IACA,CALA;;IAMA;IACAC;MACA;QAAAC;QAAAC;QAAAH;MAAA,SADA,CAEA;;MACA;MAAA,YAHA,CAIA;MACA;;MACA;QACAI;QACAC;MACA,CAHA,MAGA;QACA;QACA;QACAD,yCAHA,CAIA;;QACAC,uCALA,CAMA;;QACA;UACAD;UACAC;QACA,CAVA,CAWA;;;QACA;UACAA;UACAD;QACA;MACA;;MACA;QAAAA;QAAAC;MAAA;IACA;;EAlCA;AAHA","names":["name","props","computed","totalPage","starNumAndEndNum","continues","pageNo","start","end"],"sourceRoot":"src/components/Pageination","sources":["index.vue"],"sourcesContent":["<template>\r\n  <div class=\"pagination\">\r\n    <button :disabled=\"pageNo==1\" @click=\"$emit('getPageNo',pageNo-1)\">上一页</button>\r\n    <button v-if=\"starNumAndEndNum.start>1\" @click=\"$emit('getPageNo',1)\" :class=\"{active:pageNo==1}\">1</button>\r\n    <button v-if=\"starNumAndEndNum.start>2\">···</button>\r\n\r\n    <!-- 中间部分 -->\r\n    <button v-for=\"(page,index) in starNumAndEndNum.end\" :key=\"index\" v-if=\"page>=starNumAndEndNum.start\" @click=\"$emit('getPageNo',page)\" :class=\"{active:pageNo==page}\">{{page}}</button>\r\n    \r\n    <button v-if=\"starNumAndEndNum.end<totalPage-1\">···</button>\r\n    <button v-if=\"starNumAndEndNum.end<totalPage\" @click=\"$emit('getPageNo',totalPage)\">{{totalPage}}</button>\r\n    <button :disabled=\"pageNo==totalPage\"  @click=\"$emit('getPageNo',pageNo+1)\">下一页</button>\r\n    \r\n    <button style=\"margin-left: 30px\">共{{total}}页</button>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"Pageination\",\r\n    props:['pageNo','pageSize','total','continues'],\r\n    computed:{\r\n        // 总页数\r\n        totalPage(){\r\n            // 向上取整\r\n            return Math.ceil(this.total/this.pageSize);\r\n        },\r\n        // 计算出连续的页码的起始数字与结束数字\r\n        starNumAndEndNum(){\r\n            const {continues,pageNo,totalPage} = this;\r\n            // 先定义两个变量存储起始数字与结束数字\r\n            let start=0,end=0;\r\n            // 连续页码数字5【就是至少5页】，如果出现不正常的现象【就是不够五页】\r\n            // 不正常现象【总页数没有连续页码多】\r\n            if(continues>totalPage){\r\n                start=1;\r\n                end= totalPage;\r\n            }else{\r\n                // 正常现象【连续页码5，但是你的总页数一定是大于5的】\r\n                // 起始数字\r\n                start=pageNo-parseInt(continues/2);\r\n                // 结束数字\r\n                end=pageNo+parseInt(continues/2)\r\n                // 把出现不正常的现象【start数字出现0|负数】纠正\r\n                if(start<1){\r\n                    start=1;\r\n                    end=continues\r\n                }\r\n                // 把出现不正常的现象【end大于总页码】纠正\r\n                if(end>totalPage){\r\n                    end=totalPage;\r\n                    start=totalPage-continues+1\r\n                }\r\n            }\r\n            return {start,end};\r\n        }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .pagination {\r\n    text-align: center;\r\n    button {\r\n      margin: 0 5px;\r\n      background-color: #f4f4f5;\r\n      color: #606266;\r\n      outline: none;\r\n      border-radius: 2px;\r\n      padding: 0 4px;\r\n      vertical-align: top;\r\n      display: inline-block;\r\n      font-size: 13px;\r\n      min-width: 35.5px;\r\n      height: 28px;\r\n      line-height: 28px;\r\n      cursor: pointer;\r\n      box-sizing: border-box;\r\n      text-align: center;\r\n      border: 0;\r\n\r\n      &[disabled] {\r\n        color: #c0c4cc;\r\n        cursor: not-allowed;\r\n      }\r\n\r\n      &.active {\r\n        cursor: not-allowed;\r\n        background-color: #409eff;\r\n        color: #fff;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n"]},"metadata":{},"sourceType":"module"}