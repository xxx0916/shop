{"ast":null,"code":"export default {\n  name: \"Zoom\",\n  props: ['skuImageList'],\n\n  data() {\n    return {\n      currentIndex: 0\n    };\n  },\n\n  computed: {\n    imgObj() {\n      return this.skuImageList[this.currentIndex] || {};\n    }\n\n  },\n\n  mounted() {\n    // 全局事件总线，获取兄弟组件传递过来的索引值\n    this.$bus.$on('getIndex', index => {\n      // 修改当前响应式数据\n      this.currentIndex = index;\n    });\n  },\n\n  methods: {\n    handler(event) {\n      let mask = this.$refs.mask;\n      let big = this.$refs.big;\n      let left = event.offsetX - mask.offsetWidth / 2;\n      let top = event.offsetY - mask.offsetHeight / 2; // 约束范围\n\n      if (left <= 0) left = 0;\n      if (left >= mask.offsetWidth) left = mask.offsetWidth;\n      if (top <= 0) top = 0;\n      if (top >= mask.offsetHeight) top = mask.offsetHeight; // 修改元素的left|top属性值\n\n      mask.style.left = left + 'px';\n      mask.style.top = top + 'px';\n      big.style.left = -2 * left + 'px';\n      big.style.top = -2 * top + 'px';\n    }\n\n  }\n};","map":null,"metadata":{},"sourceType":"module"}