{"ast":null,"code":"import \"core-js/modules/es.error.cause.js\";\nimport { reqGetCode, reqUserLogin, reqUserRegister, reqUserInfo } from '@/api'; // 登录与注册的模块\n\nconst state = {\n  code: '',\n  token: ''\n};\nconst mutations = {\n  GETCODE(state, code) {\n    state.code = code;\n  },\n\n  USERLOGIN(state, token) {\n    state.token = token;\n  }\n\n};\nconst actions = {\n  // 获取验证码\n  async getCode({\n    commit\n  }, phone) {\n    // 获取验证码的这个接口：把验证码返回，但是正常情况，后台把验证码发到用户手机上【省钱】\n    let result = await reqGetCode(phone);\n\n    if (result.code == 200) {\n      commit('GETCODE', result.data);\n      return \"ok\";\n    } else {\n      return Promise.reject(new Error('faile'));\n    }\n  },\n\n  // 用户注册\n  async userRegister({\n    commit\n  }, user) {\n    let result = await reqUserRegister(user);\n\n    if (result.code == 200) {\n      return \"ok\";\n    } else {\n      return Promise.reject(new Error('faile'));\n    }\n  },\n\n  // 登录业务（token）\n  async userLogin({\n    commit\n  }, data) {\n    let result = await reqUserLogin(data); // 服务器下发token,用户唯一标识符（uuid)\n    // 将来经常通过token找服务器要用户信息进行展示\n\n    if (result.code == 200) {\n      commit(\"USERLOGIN\", result.data.token);\n      return 'ok';\n    } else {\n      return Promise.reject(new Error('faile'));\n    }\n  },\n\n  // 获取用户信息\n  async getUserInfo({\n    commit\n  }) {\n    let result = await reqUserInfo();\n\n    if (result.code == 200) {\n      commit(\"GETUSERINFO\", result.data);\n      return 'ok';\n    } else {\n      return Promise.reject(new Error('faile'));\n    }\n  }\n\n};\nconst getters = {};\nexport default {\n  state,\n  mutations,\n  actions,\n  getters\n};","map":{"version":3,"names":["reqGetCode","reqUserLogin","reqUserRegister","reqUserInfo","state","code","token","mutations","GETCODE","USERLOGIN","actions","getCode","commit","phone","result","data","Promise","reject","Error","userRegister","user","userLogin","getUserInfo","getters"],"sources":["D:/aUsers26043Desktop/vue-project2/shop/src/store/user/index.js"],"sourcesContent":["import {reqGetCode,reqUserLogin,reqUserRegister,reqUserInfo} from '@/api'\r\n// 登录与注册的模块\r\nconst state ={\r\n    code:'',\r\n    token:''\r\n}\r\nconst mutations ={\r\n    GETCODE(state,code){\r\n        state.code=code;\r\n    },\r\n    USERLOGIN(state,token){\r\n        state.token=token\r\n    }\r\n}\r\nconst actions={\r\n    // 获取验证码\r\n    async getCode({commit},phone){\r\n        // 获取验证码的这个接口：把验证码返回，但是正常情况，后台把验证码发到用户手机上【省钱】\r\n        let result= await reqGetCode(phone)\r\n        if(result.code==200){\r\n            commit('GETCODE',result.data)\r\n            return \"ok\"\r\n        }else{\r\n            return Promise.reject(new Error('faile'))\r\n        }\r\n    },\r\n    // 用户注册\r\n    async userRegister({commit},user){\r\n        let result=await reqUserRegister(user)\r\n        if(result.code==200){\r\n            return \"ok\";\r\n        }else{\r\n            return Promise.reject(new Error('faile'))\r\n        }\r\n    },\r\n    // 登录业务（token）\r\n    async userLogin({commit},data){\r\n        let result = await reqUserLogin(data);\r\n        // 服务器下发token,用户唯一标识符（uuid)\r\n        // 将来经常通过token找服务器要用户信息进行展示\r\n        if(result.code==200){\r\n            commit(\"USERLOGIN\",result.data.token);\r\n            return 'ok'\r\n        }else{\r\n            return Promise.reject(new Error('faile'))\r\n        }\r\n    },\r\n    // 获取用户信息\r\n    async getUserInfo({commit}){\r\n        let result = await reqUserInfo();\r\n        if(result.code==200){\r\n            commit(\"GETUSERINFO\",result.data);\r\n            return 'ok';\r\n        }else{\r\n            return Promise.reject(new Error('faile'))\r\n        }\r\n    }\r\n}\r\nconst getters={}\r\nexport default{\r\n    state,mutations,actions,getters\r\n}"],"mappings":";AAAA,SAAQA,UAAR,EAAmBC,YAAnB,EAAgCC,eAAhC,EAAgDC,WAAhD,QAAkE,OAAlE,C,CACA;;AACA,MAAMC,KAAK,GAAE;EACTC,IAAI,EAAC,EADI;EAETC,KAAK,EAAC;AAFG,CAAb;AAIA,MAAMC,SAAS,GAAE;EACbC,OAAO,CAACJ,KAAD,EAAOC,IAAP,EAAY;IACfD,KAAK,CAACC,IAAN,GAAWA,IAAX;EACH,CAHY;;EAIbI,SAAS,CAACL,KAAD,EAAOE,KAAP,EAAa;IAClBF,KAAK,CAACE,KAAN,GAAYA,KAAZ;EACH;;AANY,CAAjB;AAQA,MAAMI,OAAO,GAAC;EACV;EACA,MAAMC,OAAN,CAAc;IAACC;EAAD,CAAd,EAAuBC,KAAvB,EAA6B;IACzB;IACA,IAAIC,MAAM,GAAE,MAAMd,UAAU,CAACa,KAAD,CAA5B;;IACA,IAAGC,MAAM,CAACT,IAAP,IAAa,GAAhB,EAAoB;MAChBO,MAAM,CAAC,SAAD,EAAWE,MAAM,CAACC,IAAlB,CAAN;MACA,OAAO,IAAP;IACH,CAHD,MAGK;MACD,OAAOC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,OAAV,CAAf,CAAP;IACH;EACJ,CAXS;;EAYV;EACA,MAAMC,YAAN,CAAmB;IAACP;EAAD,CAAnB,EAA4BQ,IAA5B,EAAiC;IAC7B,IAAIN,MAAM,GAAC,MAAMZ,eAAe,CAACkB,IAAD,CAAhC;;IACA,IAAGN,MAAM,CAACT,IAAP,IAAa,GAAhB,EAAoB;MAChB,OAAO,IAAP;IACH,CAFD,MAEK;MACD,OAAOW,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,OAAV,CAAf,CAAP;IACH;EACJ,CApBS;;EAqBV;EACA,MAAMG,SAAN,CAAgB;IAACT;EAAD,CAAhB,EAAyBG,IAAzB,EAA8B;IAC1B,IAAID,MAAM,GAAG,MAAMb,YAAY,CAACc,IAAD,CAA/B,CAD0B,CAE1B;IACA;;IACA,IAAGD,MAAM,CAACT,IAAP,IAAa,GAAhB,EAAoB;MAChBO,MAAM,CAAC,WAAD,EAAaE,MAAM,CAACC,IAAP,CAAYT,KAAzB,CAAN;MACA,OAAO,IAAP;IACH,CAHD,MAGK;MACD,OAAOU,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,OAAV,CAAf,CAAP;IACH;EACJ,CAhCS;;EAiCV;EACA,MAAMI,WAAN,CAAkB;IAACV;EAAD,CAAlB,EAA2B;IACvB,IAAIE,MAAM,GAAG,MAAMX,WAAW,EAA9B;;IACA,IAAGW,MAAM,CAACT,IAAP,IAAa,GAAhB,EAAoB;MAChBO,MAAM,CAAC,aAAD,EAAeE,MAAM,CAACC,IAAtB,CAAN;MACA,OAAO,IAAP;IACH,CAHD,MAGK;MACD,OAAOC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,OAAV,CAAf,CAAP;IACH;EACJ;;AA1CS,CAAd;AA4CA,MAAMK,OAAO,GAAC,EAAd;AACA,eAAc;EACVnB,KADU;EACJG,SADI;EACMG,OADN;EACca;AADd,CAAd"},"metadata":{},"sourceType":"module"}